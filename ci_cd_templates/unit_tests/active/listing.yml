steps:
  - task: UsePythonVersion@0
    displayName: 'Use Python 3.x'
    inputs:
      versionSpec: '3.x'

  - script: |
      pip install uv
      uv pip install -r $(Build.SourcesDirectory)/tests/requirements.txt --system
    displayName: 'Install dependencies'
  
  - script: |
      echo "Running listing unit tests"
      python -m pytest $(Build.SourcesDirectory)/tests/active/listing \
        --junitxml=$(Build.ArtifactStagingDirectory)/pytest-results.xml -v
    displayName: 'Run listing state pytest unit tests'
  